<!DOCTYPE html>
<html>
<head>
    <title></title>

    <script type='text/javascript' src='https://raw.github.com/s3u/har-view/master/scripts/jquery.min.js'></script>
    <script type='text/javascript' src='https://raw.github.com/s3u/har-view/master/scripts/jquery-ui.min.js'></script>
    <script type='text/javascript' src='https://raw.github.com/s3u/har-view/master/scripts/har-viewer.js'></script>
    <script type='text/javascript' src='https://raw.github.com/s3u/har-view/master/scripts/mustache.js'></script>
    <link rel='stylesheet' type='text/css' href='https://raw.github.com/s3u/har-view/master/css/jquery-ui.css'/>
    <link rel='stylesheet' type='text/css' href='https://raw.github.com/s3u/har-view/master/css/har-viewer.css'/>
</head>
<body>

<h1>HAR View Demo</h1>

<p>Drop har file in this window.</p>

<div id='har-view'></div>

<script type='text/javascript'>

    var target = window; //document.getElementById('dropbox');
    target.ondragover = function () {
        return false;
    };
    target.ondragend = function () {
        return false;
    };

    target.ondrop = function (e) {
        e.stopPropagation();
        e.preventDefault();

        var file = e.dataTransfer.files[0];
        var reader = new FileReader();
        reader.onload = function (event) {
            var data = event.target.result;
            try {
                data = JSON.parse(data);

                $('#har-view').HarView();
                var har = $('#har-view').data('HarView');
                har.render(data);
            }
            catch(e) {
                alert(e);
            }
            
        };
        reader.readAsText(file);
        return false;
    };
</script>
</body>
</html>